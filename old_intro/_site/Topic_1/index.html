<p>We are working on servers provided by Compute Canada, hosted on the
<a href="https://www.computecanada.ca/research-portal/national-services/compute-canada-cloud/">WestCloud</a>
system. The only task now is to install a few programs we’ll need
later on, and login to your account.</p>

<p><strong>Accounting</strong>: We have created an account for each student. You may
find your account information in this
<a href="https://docs.google.com/spreadsheets/d/1v7k2-XtfiwOoQ3iZHnJyqVXsxgekVGXEtnFIvdk7aqU/edit?usp=sharing">table</a>. Take
note of your username, and server ip address. In the instructions, if
you see the placeholders <code class="language-plaintext highlighter-rouge">serveruser</code> and <code class="language-plaintext highlighter-rouge">serverhost</code> replace them
with your own information. You should have received your server password separately.</p>

<h2 id="accompanying-material">Accompanying material:</h2>

<ul>
  <li><a href="./Topic 1.pdf">Slides</a></li>
</ul>

<h2 id="software-can-be-completed-early">Software: <em style="color: darkred">(can be completed early)</em></h2>

<p>Your local workstation (not the server) will need to be fitted with some
software for programming in R, and connecting to servers. The servers
will be fitted with the rest of the software already.</p>

<p>On your computer, you will need:</p>

<ol>
  <li>
    <p><a href="https://www.rstudio.com/products/rstudio/download2/">Rstudio</a>, the de-facto Integrated Development Environment (IDE) for R.
The free edition will suffice for this course.</p>
  </li>
  <li>
    <p>Tool to transfer files over SFTP (secure file transfer protocol) or
SCP (secure copy). We can use these tools to browse and transfer files
back and forth between your workstation and the server. Get <em>one</em> of the following options:</p>

    <ul>
      <li>
        <p><em>Graphical option 1</em>: <a href="https://cyberduck.io/?l=en">Cyberduck</a> (Mac &amp;
 Windows). This is a graphical tool that will allow you to transfer
 files to/from a remote storage location (+dragndrop), and edit remote
 files with a local editor. We will also cover how to perform these
 operations from the command line using other readily-availble
 tools.</p>
      </li>
      <li>
        <p><em>Graphical option 2</em>:
<a href="https://mobaxterm.mobatek.net/download-home-edition.html">MobaXTerm</a>
(Windows only). MobaXTerm combines a graphical terminal emulator, a
graphical file-transfer tool, an X11 server (to use graphical
applications from the remote-side), and more. Comes in two formats:
“portable”, and “installer/msi”. The difference: the portable is
installed simply by uncompressing the contents of the zip in a
folder of your choice (this is useful if you want to carry it
around on a USB stick). The “installer edition” will run an installation
wizard and get added to your start menu and windows environment.</p>
      </li>
      <li>
        <p><em>Command line option_1</em>: pscp.exe/psftp.exe from the <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTy</a> suite (Windows only). Install the MSI version to get all the utilities at once. It comes in 32bit and 64bit editions. Unless you know your workstation has a 32bit cpu or operating system (which is uncommon in 2019), pick 64bit.</p>
      </li>
      <li>
        <p><em>Command line option 2</em>: Other platforms (Mac &amp; GNU/Linux) have
sftp and scp tools installed out-of-the-box. We will also teach
you how to transfer files from the command-line using these. This
knowledge will come in handy for scripting.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>A (good) terminal emulator. To interact with command line programs, you will need to type a terminal emulator, and parse results.</p>

    <p>If you don’t have a terminal emulator, we recommend you install one
from the list that follows (there are many more out there):</p>

    <ul>
      <li>
        <p><a href="https://www.iterm2.com/">iTerm2</a> (Mac Only). Fuller-featured replacement for the default Terminal application (see feature list). The built-in terminal application which comes with MacOs is also decent.</p>
      </li>
      <li>
        <p><a href="https://mobaxterm.mobatek.net/download-home-edition.html">MobaXTerm</a> (Windows). This is a one-stop shop for working with remote computers from windows. It has a good terminal, and it also doubles as a file transfer tool.</p>
      </li>
      <li>
        <p>putty.exe from the <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTy</a> suite (Windows). This is a second choice if Moba doesn’t work. Putty is a “classic” terminal emulator on Windows, because it is stable, and simple to use. Get the .msi (installer) version which has all of the utilities. It comes in 32bit and 64bit editions. Unless you are working with a 32bit cpu or operating system (which is uncommon in 2019), pick 64bit.</p>
      </li>
      <li>
        <p>For GNU/Linux environments (e.g. Ubuntu). Your desktop environment’s default terminal application will work just fine, e.g. gnome-terminal, or xfce-terminal.</p>
      </li>
    </ul>

    <p>Features of a good terminal emulator (things to look for):</p>
    <ol>
      <li>Options for scrolling and searching.</li>
      <li>Reliable text selection, copy-paste, both in, and out.</li>
      <li>Sensible translation of keypresses (especially true of <kbd>ALT</kbd>, <kbd>CTRL</kbd>, <kbd>⌘cmd</kbd>, <kbd>PGUP</kbd>, <kbd>PGDN</kbd>, <kbd>DEL</kbd>, <kbd>BCKSPC</kbd>, <kbd>⊞ Win</kbd>, <kbd>FN</kbd>, and arrow keys, whose meaning can be open to different interpretation across different platforms).</li>
      <li>Proper display of characters from different unicode planes (natural languages, emojis, etc.)</li>
      <li>Configurable appearance (font sizes, colors, and transparency).</li>
      <li>Multiple tabs/sessions in the same window.</li>
    </ol>

    <blockquote>
      <p><em>Note</em>: I would advise <em>against</em> using Window’s CMD prompt for
this purpose because it’s too minimal. In a pinch, it can do, but
it’s worthwhile to spend a few minutes on getting a better
emulator with better defaults.</p>

      <p><em>Note 2</em>: If you’re curious why it’s called an “emulator”, you may read about their ancestor: <a href="https://en.wikipedia.org/wiki/Computer_terminal#Text_terminals">“real” terminals</a>.</p>
    </blockquote>
  </li>
</ol>

<h2 id="configuration-can-be-completed-early">Configuration: <em style="color: darkred">(can be completed early)</em></h2>

<p>This section assumes that you’ve already followed the steps to install
software above for your environment. We have provided steps to
configure rapid authentication between your computer and the
server. The steps are meant to be done in sequence and should take
about 15 minutes to complete once the software above is installed.</p>

<p><strong>NOTE, WE ARE NOT USING SSH-KEYS FOR THE WORKSHOP THIS YEAR - UNLESS YOU ARE USING PUTTY PROCEED TO “Testing it all”</strong></p>

<p>Configuration steps, in sequence :</p>

<ol>
  <li>
    <p>Generate a key for authenticating to your assigned server. Follow steps in <a href="./generate_a_key">Generate A Key</a>.</p>
  </li>
  <li>
    <p>Load the key in your ssh-agent. Details in <a href="./configure_ssh_agent">Configure-SSH-Agent</a></p>
  </li>
  <li>
    <p>Configure the server account to authenticate with your new key. Take note of your assigned server hostname (IP), username, and password and follow details in <a href="./finalize_tool_config">Finalize Tool Config</a>. This will let you login to the server without remembering usernames, ips, or keys.</p>
  </li>
</ol>

<h2 id="testing-it-all-can-be-completed-early">Testing it all: <em style="color: darkred">(can be completed early)</em></h2>

<p>Log into ComputeCanada Virtual Machines using ssh (terminal). Recall that you will find your username and ip address in the table you were sent via email. We use <code class="language-plaintext highlighter-rouge">serveruser</code> and <code class="language-plaintext highlighter-rouge">serverhost</code> as placeholders for this info.</p>

<p>The information presented by the servers when you connect to them is shown here in <a href="./fingerprints">Fingerprints</a>.</p>

<ul>
  <li>
    <p>For Mac, GNU Linux users:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ssh <span class="nt">-v</span> &lt;serveruser&gt;@&lt;serverhost&gt;

<span class="c"># FOR REFERENCE ONLY..</span>
<span class="c"># if you have followed the key authentication steps, you need only to specify</span>
<span class="c"># the host alias you chose from your `~/.ssh/config`, e.g. b525:</span>

<span class="c"># ssh -v b525</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>MobaXTerm users:</p>

    <p>If you have configured a new user session, as specified in the
key authentication pages, you can simply find your session
on the left pane of Moba (the vertical-text tab “Sessions”), and
double click your chosen session.</p>

    <p>If not, you can open a moba local terminal and do:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># from the local terminal
ssh -v &lt;serveruser&gt;@&lt;serverhost&gt;

# FOR REFERENCE ONLY..
# or just this if you have configured ~/.ssh/config
# ssh -v b525
</code></pre></div>    </div>
  </li>
  <li>
    <p>Putty users:</p>

    <p>If you’ve followed the key authentication steps, you should have a user session you can open
directy from the Pageant right-click menu.</p>

    <p>Otherwise, create a new putty session:</p>

    <ul>
      <li>In the menu, use your provided account info for Host Name (your <code class="language-plaintext highlighter-rouge">serverhost</code>), Connection-&gt;Data-&gt;Login username (your <code class="language-plaintext highlighter-rouge">serveruser</code>).</li>
      <li>If you have followed the key authentication steps, you will not have to enter
passwords, and will be logged in immediately. Otherwise, provide your password at the prompt (your <code class="language-plaintext highlighter-rouge">serverpass</code>).</li>
    </ul>
  </li>
</ul>

<p>Your screen should give you a prompt on the server, and should print some server text similar to this (ignoring visual terminal differences aside):</p>

<p><img src="terminal.jpeg" alt="" title="Terminal" width="100%" /></p>
